<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Windigo (alpha) | type-safe rest client for android</title>
        <meta name="Description" content="Windigo type-safe rest client for android. Develop your next rest api consuming android app like a boss.">
        <meta name="Keywords" content="android, rest, api, client, type-safe, apachehttpclient, httpurlconnection, okhttpclient, library, jar, java, httpclient">
        <meta name="author" content="madebyraj">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Styles -->
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
        <link href="assets/css/style.css" rel="stylesheet">
        <link href="assets/css/font-awesome.css" rel="stylesheet">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300|Bree+Serif" rel="stylesheet" type="text/css">
        <link href="assets/js/prism.css" rel="stylesheet">
        <!--[if IE]>
        <link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400italic" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:600italic" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:700italic" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:300" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:400" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Open+Sans:600" rel="stylesheet" type="text/css">
        <link href="http://fonts.googleapis.com/css?family=Bree+Serif:400" rel="stylesheet" type="text/css">
        <![endif]-->
        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <!--[if IE 7]>
        <link rel="stylesheet" href="assets/css/font-awesome-ie7.css">
        <![endif]-->
    </head>
    <body data-twttr-rendered="true">
        <a href="https://github.com/burakdd/windigo"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
        
        <header class="masthead">
            <div class="container">
                <br/><br/>
                <h1 class="font-bree-serif">Windigo type-safe rest client for android</h1>
                <p class="font-open-sans-normal">Develop your next rest api consuming android app like a boss.</p>
                <div id="brand">
                    <pre>
                    <code class="language-java">
    // we need http client
    HttpUrlConnectionClient httpClient = new HttpUrlConnectionClient();

    // call factory method with url and interface class for rest api
    lastfmRestApi = RestApiFactory.createNewService("http://ws.audioscrobbler.com", LastfmRestApi.class, httpClient);

    // call factory method with url and interface class for rest api        
    openWeatherApi = RestApiFactory.createNewService("http://api.openweathermap.org/data/2.5", OpenWeatherApi.class, httpClient);

    // this is asynchronous operation
    ForecastpResponse forecast  = openWeatherApi.getForecast(41.163267, 29.094187);
                    </code>
                    </pre>
                </div>
                <p class="jumbo"> <a href="http://bit.ly/windigo-github" class="btn btn-default btn-large font-open-sans-normal"><strong>View Windigo on GitHub</strong></a> <a href="http://bit.ly/windigo-jar" class="btn btn-success btn-large font-open-sans-normal"><strong>Download Jar </strong><small>(alpha)</small></a> </p>
                <p class="share">
                    <a href="https://twitter.com/burakdede" class="twitter-follow-button" data-show-count="false">Follow @burakdede</a>
                    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                </p>
            </div>
            <!--end container-->  
        </header>
        <div class="main-content">
            <div class="container">
                <div class="row" id="content">
                    <div class="span12">
                        <div class="tab-pane active" id="howtouse">
                                    <section class="sec-header">
                                        <h1 class="font-bree-serif">How to use</h1>
                                        <p>1- Create <b>interface file</b> for your remote rest api, lets call it <code><abbr title="&lt;head&gt;">OpenWeatherApi</abbr></code> put it somewhere in your project.</p>
                                        <pre><code class="language-java">
@RestApi
public interface OpenWeatherApi {

    @Get("/weather")
    ForecastResponse getForecast(@QueryParam("lat") double latitude, @QueryParam("lon") double longtiude);
}
                                        </code></pre>
                                        <p>2- Create ready to use <b>http clients</b> with simple one liner. Windigo currently supports <code><abbr title="&lt;head&gt;">ApacheHttpClient</abbr></code>, <code><abbr title="&lt;head&gt;">HttpUrlConnection</abbr></code> and lastly Square's <code><abbr title="&lt;head&gt;">OkHttpClient</abbr></code>. Create one of the http client object and give it instance to rest api builder as parameter.</p>
                                        <pre><code class="language-java">
// apache http client bundled with android
ApacheHttpClient httpClient = new ApacheHttpClient();

// android http url connection client
HttpUrlConnectionClient httpUrlConnectionClient = new HttpUrlConnectionClient();

// square okhttp client
OkClient okHttpClient = new OkClient();
                                        </code></pre>
                                        <p>3- Get instance of your rest interface with the help of <code><abbr title="&lt;head&gt;">RestApiFactory</abbr></code> and its <code><abbr title="&lt;head&gt;">createNewService</abbr></code> method. Give method <code><abbr title="&lt;head&gt;">baseUrl</abbr></code> for rest api, your interface class your createdd in step 1 <code><abbr title="&lt;head&gt;">OpenWeatherApi</abbr></code> and <code><abbr title="&lt;head&gt;">HttpClient</abbr></code> your created on step 2. And your rest interface will be created for you.</p>
                                        <pre><code class="language-java">
// call factory method with url and interface class for rest api		
openWeatherApi = RestApiFactory.createNewService("http://api.openweathermap.org/data/2.5", OpenWeatherApi.class, httpClient);
                                        </code></pre>
                                        <p>4- Start calling your rest endpoints and your type-safe response models will be ready to use and already parsed for you. </p>
                                        <pre><code class="language-java">
// your response ready to use for you without any parsing operation.
ForecastResponse forecast = openWeatherApi.getForecast(41.163267, 29.094187);
                                        </code></pre>
                                    </section>
                                    <section class="sec-header">
                                        <h1 class="font-bree-serif">Model/Response types</h1>
                                        <p>Your model response type do not need extra thing just plain old java objects, olny thing you need map your fields according to your json response.</p>
                                        <p>Here is sample json response from api.</p>
                                        <p><a href="http://api.openweathermap.org/data/2.5/weather?lat=41.163267&lon=29.094187">OpenWeatherApi Call</a></p>
                                        <pre>
                                            <code class="language-javascript">
{"coord":{"lon":29.09,"lat":41.16},"sys":{"message":0.0034,"country":"TR","sunrise":1397877445,"sunset":1397926076},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03d"}],"base":"cmc stations","main":{"temp":289.15,"pressure":1012,"humidity":59,"temp_min":289.15,"temp_max":289.15},"wind":{"speed":4.1,"deg":180},"clouds":{"all":40},"dt":1397915400,"id":750662,"name":"Beykoz","cod":200}
                                            </code>
                                        </pre>
                                        <p>Here is your model classes to map json data</p>
                                        <pre>
                                            <code class="language-java">
public class ForecastResponse {
    private String name;
    private MainResponse main;
    private WindResponse wind;
    private List<WeatherResponse> weather;
}

public class MainResponse {
    private double temp, temp_min, temp_max;
    private int humidity;
}

public class WeatherResponse {
    private String description, icon;
}

public class WindResponse {
    private float speed;
}
                                            </code>
                                        </pre>
                                        <p> Windigo will take care of the rest whether its parsing whether initializing your model objects. After your make the call they are ready to use.</p>
                                    </section>
                                    <section class="sec-header">
                                        <h1 class="font-bree-serif">Annotations</h1>
                                        <p>Windigo allows you use declerative syntax to form your rest api interface. So you have couple of annotation on your command.</p>
                                        <h3><code><abbr title="&lt;head&gt;">@RestApi</abbr></code></h3>
                                            <p>Declare that this class will be used as interface for your rest operations.</p>
                                            <pre>
                                                <code class="language-java">
@RestApi
public interface YourApiInterface {
    // your methods here
}
                                                </code>
                                            </pre>
                                        
                                        <h3><code><abbr title="&lt;head&gt;">@Get</abbr></code></h3>
                                            <p>This rest method will be called using get http method</p>
                                            <pre>
                                                <code class="language-java">
@Get("/weather")
                                                </code>
                                            </pre>
                                        
                                        <h3><code><abbr title="&lt;head&gt;">@Post</abbr></code></h3>
                                            <p>This rest method will be called using post http method</p>
                                            <pre>
                                                <code class="language-java">
@Post("/user/new")
                                                </code>
                                            </pre>

                                        <h3><code><abbr title="&lt;head&gt;">@Header</abbr></code></h3>
                                            <p>Specify header values along with request</p>
                                            <pre>
                                                <code class="language-java">
@Get("/user/get")
User getUser(@Header("X-Auth") String token, @Header("Accept-Encoding") String encoding)
                                                </code>
                                            </pre>  
                                        
                                        <h3><code><abbr title="&lt;head&gt;">@Placeholder</abbr></code></h3>
                                            <p>Specify placeholders on endpoint to replace with parmeters</p>
                                            <pre>
                                                <code class="language-java">
Get("/artist/{id}")
Artist getArtist(@PlaceHolder("id") int id)
                                                </code>
                                            </pre> 
                                        
                                        <h3><code><abbr title="&lt;head&gt;">@QueryParam</abbr></code></h3>
                                            <p>Specify parameters send along with request</p>
                                            <pre>
                                                <code class="language-java">
// /weather?lat=x&lng=y
@Get("/weather")
Forecast getForecast(@QueryParam("lat") double lat, @QueryParam("lng") double lng)
                                                </code>
                                            </pre>
                                        <h3><code><abbr title="&lt;head&gt;">@QueryParamObject</abbr></code></h3>
                                            <p>Specify plain java class to map query strings</p>
                                            <pre>
                                                <code class="language-java">
// /weather?lat=x&lng=y
@Get("/weather")
Forecast getForecast(@QueryParamObject LocationRequest request)
                                                </code>
                                            </pre>
                                        <h3><code><abbr title="&lt;head&gt;">@QueryParamMap</abbr></code></h3>
                                            <p>Specify map class to map query parameters</p>
                                            <pre>
                                                <code class="language-java">
// /weather?lat=x&lng=y
Map<String, Double> forecastMap = new HashMap<String, Double>() {
    {
        put("lat", 41.15);
        put("lon", 29.06);
    }
};


@Get("/weather")
Forecast getForecast(@QueryParamMap Map<String, Double> coordinates)
                                                </code>
                                            </pre>                                        
                                    </section>
                                    <section class="sec-header">
                                        <h1 class="font-bree-serif">Sample Code</h1>
                                        <p>You can have a look at sample apps that use windigo</p>
                                        <a href="https://github.com/burakdd/windigo/tree/master/windigo-sample">Sample Apps</a>
                                    </section> 
                                    <section class="sec-header">
                                        <h1 class="font-bree-serif">Do I Need This?</h1>
                                        <p>If you think you dont need this library, take a look at amount of code you have to write in order to get simple forecast response. Its time consuming and make your application less readable. Do you want to make your code base this complex while you can do it with 4-5 line?</p>
                                            <pre>
                                                <code class="language-java">
private class RegularHttpRestTask extends AsyncTask<Void, Integer, ForecastResponse> {

	@Override
	protected ForecastResponse doInBackground(Void... params) {
		
		final HttpParams httpParams = new BasicHttpParams();
		
        final SchemeRegistry supportedSchemes = new SchemeRegistry();

        final SocketFactory sf = PlainSocketFactory.getSocketFactory();
        supportedSchemes.register(new Scheme("http", sf, 80));
        supportedSchemes.register(new Scheme("https", SSLSocketFactory.getSocketFactory(), 443));
		
		HttpConnectionParams.setStaleCheckingEnabled(httpParams, false);
		HttpConnectionParams.setConnectionTimeout(httpParams, 60 * 1000);
		HttpConnectionParams.setSoTimeout(httpParams, 60 * 1000);
		HttpConnectionParams.setSocketBufferSize(httpParams, 8192);
		
		final ClientConnectionManager ccm = new ThreadSafeClientConnManager(httpParams,
                supportedSchemes);
		
		HttpClient httpClient = new HttpClient(new DefaultHttpClient(ccm, httpParams));
		HttpGet get = new HttpGet("http://api.openweathermap.org/data/2.5/weather?lat=41.163267&lon=29.094187");
		HttpResponse response = null;
		ForecastResponse forecast = new ForecastResponse();
		JSONObject responseJsonObject;
		
		try {
			response =  httpClient.executeHttpRequest(get);
			String responseString = EntityUtils.toString(response.getEntity());
			responseJsonObject = new JSONObject(responseString);
			
			forecast.setName(responseJsonObject.getString("name"));
			
			// get main response
			JSONObject mainJsonObject = responseJsonObject.getJSONObject("main");
			forecast.setMain(new MainResponse(mainJsonObject.getDouble("temp"), 
										mainJsonObject.getDouble("temp_min"), 
										mainJsonObject.getDouble("temp_max"), 
										mainJsonObject.getInt("humidity")));
			
			// get wind respose
			JSONObject windJsonObject = responseJsonObject.getJSONObject("wind");
			forecast.setWind(new WindResponse((float) windJsonObject.getDouble("speed")));
			
			JSONArray weathJsonArray = responseJsonObject.getJSONArray("weather");
			List<WeatherResponse> weatherResponses = new ArrayList<WeatherResponse>();
			for (int i = 0; i < weathJsonArray.length(); i++) {
				JSONObject weatherJsonObject = weathJsonArray.getJSONObject(i);
				weatherResponses.add(new WeatherResponse(weatherJsonObject.getString("description"), weatherJsonObject.getString("icon")));
			}
			forecast.setWeather(weatherResponses);
			
		} catch (IOException e) {
			e.printStackTrace();
		} catch (JSONException e) {
			e.printStackTrace();
		}
		
		
		return forecast;
	}
	
	@Override
	protected void onPostExecute(ForecastResponse result) {
		super.onPostExecute(result);
		responseTextView.setText(result.toString());
	}
}
                                                </code>
                                            </pre> 
                                    </section>                                        
                                    <section class="sec-header">
                                        <h1 class="font-bree-serif">Dependencies</h1>
                                        <p>Windigo depend on following libraries</p>
                                        <ul>
                                            <li><a href="https://code.google.com/p/google-gson/">Google Gson</a> - json conversion</li>
                                            <li><a href="https://github.com/square/okhttp">OkHttpClient</a> - supported as one of the http clients</li>
                                        </ul>
                                    </section>
                                    <section class="sec-header">
                                        <h1 class="font-bree-serif">Download</h1>
                                        <p><a href="http://bit.ly/windigo-jar">Downloar Jar</a></p>
                                    </section>
                                    <section class="sec-header">
                                        <h1 class="font-bree-serif">ROADMAP</h1>
                                        <p>
                                            <ul>
                                                <li><del>Let developers choose which http client library to use.</del></li>
                                                <li><del>Make requests asynchronous</del></li>
                                                <li><del>Make response work on stream not raw string</del></li>
                                                <li>HttpUrlConnectionClient http<->https follow problem</li>
                                                <li><del>Cookie support</del></li>
                                                <li><del>Response caching</del></li>
                                                <li>Advanced logging and profiling for requests</li>
                                                <li>Maven and gradle support</li>
                                                <li>Detailed exception and error handling</li>
                                            </ul>
                                        </p>
                                    </section>
                                    <section class="sec-header">
                                        <h1 class="font-bree-serif">Contribute</h1>
                                        I wrote <a href="http://blog.burakdede.com/windigo-intro-for-contributors/">sample introduction</a> about technical details of project, its getting old really fast but still useful.
                                        Check out the <b>ROADMAP</b> section of the project. I have tons of things to do if you feel you can't contribute directly, checkout <a href="https://github.com/burakdd/windigo/issues">issues</a> or provide sample apps so that others can understand how to use library.
                                    </section>
                                    <section class="sec-header">
                                        <h1 class="font-bree-serif">License</h1>
                                        <p>Windigo distributed with Apache 2.0 License</p>
                                        <pre>
                                            <code class="language-java">
Copyright (C) Burak Dede.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
                                            </code>
                                        </pre>
                                    </section>
                                </div>
                                <!--end howtouse-content-->
                        <!--end tabbable-->
                        <div class="well align-center">
                            <h4>For any queries or issues. <a href="https://github.com/burakdd/windigo/issues">Submit issues</a> on github or Contact me <a href="mailto:burakdede87@gmail.com">burakdede87@gmail.com</a></h4>
                        </div>
                        <!--end well-->
                    
                    </div>
                    <!--end span12-->
                </div>
                <!--end row-->
            </div>
            <!--end container-->
        </div>
        <!--end main-content-->
        <footer>
            <div class="container">
                <div class="row">
                    <div class="span6">
                        <p>© <a href="http://blog.burakdede.com">Burak Dede</a> 2014</p>
                    </div>
                    <div class="span2 offset4">
                        <p><a href="#" id="top">Go To Top</a></p>
                    </div>
                    <!--end span2-->
                </div>
                <!--end row-->  
            </div>
            <!--end container-->  
        </footer>
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
        <script src="assets/js/prism.js"></script>
        <script type="text/javascript" src="assets/js/respond.js"></script>
        <!-- Latest compiled and minified JavaScript -->
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script type="text/javascript">
            $(function(){
            	//footer link to got top
            	gotoTop();
            	function gotoTop(){
            		 // scroll body to 0px on click
            			$('a#top').on('click',function () {
            				$('body,html').animate({
            					scrollTop: 0
            				}, 800);
            				return false;
            			});
            	 };
            });
        </script>
</html>